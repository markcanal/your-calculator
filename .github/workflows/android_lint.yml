name: Android CI

on:
  pull_request:
    paths:
      - .github/workflows/android-lint.yml
      - '*/src/**'
      - gradle/**
      - '**.gradle'
      - gradle.properties
      - gradlew*
jobs:
 build:
   runs-on: ubuntu-latest
   steps:
   - uses: actions/checkout@v1
   - name: Set up JDK 11
     uses: actions/setup-java@v1
     with:
       java-version: 11
   - name: Make gradlew executable
     run: chmod +x ./gradlew
   - name: Build with Gradle    
     run: ./gradlew build
   
  # android-lint:
  #   runs-on: ubuntu-latest
  #   steps:
  #     - uses: actions/checkout@v3
  #       with:
  #         fetch-depth: 1
  #     - name: set up JDK
  #       uses: actions/setup-java@v3
  #       with:
  #         distribution: zulu
  #         java-version: 11
  #         cache: gradle
  #     - name: Make gradlew executable
  #       run: chmod +x ./gradlew
  #     - name: Check lint error
  #     - run: ./gradlew lint
  #     - uses: yutailang0119/action-android-lint@v3
  #       with:
  #         report-path: build/reports/*.xml # Support glob patterns by https://www.npmjs.com/package/@actions/glob
  #       continue-on-error: false # If annotations contain error of severity, action-android-lint exit 1.
